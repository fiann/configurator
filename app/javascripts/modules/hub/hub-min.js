"use strict";YUI.add("hub",function(d){var c=window,b,a=function(){var i={},f=[],j=function(k,l){this.token=k;this.callback=l;},e=function(k,m,l){this.type=k;this.timestamp=l||b.safe.getTimestamp();this.data=m;},h=function(){var k=function(n,p){n=n.split(",");for(var o=0;o<n.length;o++){if(p===d.Lang.trim(n[o])){return true;}}return false;},m=function(n,p){var o=d.Lang.trim(p.event_visibility);if(o===undefined||o===""||o==="*"){return true;}return k(o,n);},l=function(o,p){var n={};d.Object.each(p,function(s,r){if(/_visibility$/.test(r)===false){var q=p[r+"_visibility"];if(typeof q!=="string"||q===""||q==="*"||k(q,o)){n[r]=s;}}});return n;};this.dispatch=function(o,t,s,r){var n,q,p;if(m(t.token,s)){q=l(t.token,s);n=new e(o,q,r);p=t.callback(n);if(p){d.mix(s,p);}}};},g=new h();this.bind=function(k,m,p){var o=i[k],n,l;if("undefined"===typeof o){o=[];}for(n=false,l=0;l<o.length;l++){if(o[l].token===m){o[l].callback=p;n=true;break;}}if(!n){o.push(new j(m,p));}i[k]=o;};this.trigger=function(s,q,t){q=q||{};var n=(i[s]||[]);var u,m,l=(i["*"]||[]),r,p;for(r=0;r<l.length;r++){m=l[r];u=false;for(p=0;p<n.length;p++){if(n[p].token===m.token){u=true;}}if(!u){n.push(m);}}for(var o=0;o<n.length;o++){g.dispatch(s,n[o],q,t);}if(s==="plugin-initialization-start"){f.push(q);}};this.getPluginInfo=function(){var o=[],k;for(k=0;k<f.length;k++){var l=f[k],n={};for(var m in l){if(typeof l[m]==="string"||typeof l[m]==="number"){n[m]=l[m];}}o.push(n);}return o;};this.configure=function(q,o){if(typeof q!=="string"){throw new Error("Invalid configuration key");}var n,r,t,p,m,s=q.split("."),l=typeof o;r=function(){d.use(n,function(){var u,v=s.slice(1,s.length).join(".");for(u=0;u<f.length;u++){if(n===f[u].id&&typeof f[u].configure==="function"){f[u].configure(v,o);return;}}});};n=s[0];t=(s.length<3?"":s.slice(0,s.length-1).join("."));t=("YUI.Env.jsHub.config."+(s.length<2?"":n)+"."+t).replace(/\.+/g,".").replace(/\.$/,"");m=YUI.namespace(t);p=s[s.length-1];if(l==="string"||l==="number"||l==="boolean"){m[p]=o;r();}else{if(o===null){delete m[p];r();}else{if(l==="object"){for(var k in o){if(o.hasOwnProperty(k)){this.configure(q+"."+k,o[k]);}}}else{return m[p];}}}};};b=c.jsHub=new a();b.safe=function(f){var e;if("document"===f){e={location:{hash:document.location.hash,host:document.location.host,hostname:document.location.hostname,href:document.location.href,pathname:document.location.pathname,port:document.location.port,protocol:document.location.protocol,search:document.location.search},title:document.title,referrer:(document.referrer===null)?"":document.referrer,cookies:document.cookies,domain:"Unsafe property"};}else{e={};}return e;};b.safe.getTimestamp=function(){return new Date().getTime();};},"2.0.0",{requires:["yui"],after:["yui"]});