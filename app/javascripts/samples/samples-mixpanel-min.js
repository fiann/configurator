"use strict";var mpmetrics={};mpmetrics.json_encode=function(f){var a;var d=f;var c;var b=function(g){var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};i.lastIndex=0;return i.test(g)?'"'+g.replace(i,function(j){var k=h[j];return typeof k==="string"?k:"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+g+'"';};var e=function(r,n){var p="";var h="    ";var l=0;var j="";var s="";var g=0;var o=p;var m=[];var q=n[r];if(q&&typeof q==="object"&&typeof q.toJSON==="function"){q=q.toJSON(r);}switch(typeof q){case"string":return b(q);case"number":return isFinite(q)?String(q):"null";case"boolean":case"null":return String(q);case"object":if(!q){return"null";}p+=h;m=[];if(Object.prototype.toString.apply(q)==="[object Array]"){g=q.length;for(l=0;l<g;l+=1){m[l]=e(l,q)||"null";}s=m.length===0?"[]":p?"[\n"+p+m.join(",\n"+p)+"\n"+o+"]":"["+m.join(",")+"]";p=o;return s;}for(j in q){if(Object.hasOwnProperty.call(q,j)){s=e(j,q);if(s){m.push(b(j)+(p?": ":":")+s);}}}s=m.length===0?"{}":p?"{"+m.join(",")+""+o+"}":"{"+m.join(",")+"}";p=o;return s;}};return e("",{"":d});};mpmetrics.base64_encode=function(h){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c,b,a,m,l,k,j,n,g=0,o=0,f="",e=[];if(!h){return h;}h=this.utf8_encode(h+"");do{c=h.charCodeAt(g++);b=h.charCodeAt(g++);a=h.charCodeAt(g++);n=c<<16|b<<8|a;m=n>>18&63;l=n>>12&63;k=n>>6&63;j=n&63;e[o++]=d.charAt(m)+d.charAt(l)+d.charAt(k)+d.charAt(j);}while(g<h.length);f=e.join("");switch(h.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"=";break;}return f;};mpmetrics.utf8_encode=function(d){d=(d+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b="";var h,a;var f=0;h=a=0;f=d.length;for(var g=0;g<f;g++){var e=d.charCodeAt(g);var c=null;if(e<128){a++;}else{if((e>127)&&(e<2048)){c=String.fromCharCode((e>>6)|192)+String.fromCharCode((e&63)|128);}else{c=String.fromCharCode((e>>12)|224)+String.fromCharCode(((e>>6)&63)|128)+String.fromCharCode((e&63)|128);}}if(c!==null){if(a>h){b+=d.substring(h,a);}b+=c;h=a=g+1;}}if(a>h){b+=d.substring(h,d.length);}return b;};(function(){var c={id:"mixpanel-get-plugin",name:"Mixpanel GET transport plugin",version:0.1,vendor:"jsHub"},e=["interaction"],d="295eb54e58ad790b4f2a3f3288499591",a="http://api.mixpanel.com/track/";c.eventHandler=function(h){var f={_:h.timestamp,data:{properties:h.data},ip:1,img:1};if(d!==""){f.data.properties.token=d;}if(h.type==="interaction"){var i=""+f.data.properties.event;f.data.event=i;delete f.data.properties.event;}else{f.data.event=h.type;}var g=mpmetrics.base64_encode(mpmetrics.json_encode(f.data));f.data=g;jsHub.dispatchViaImage(a,f);};c.configure=function(f,g){if(f==="account"){d=g;}};jsHub.trigger("plugin-initialization-start",c);for(var b=0;b<e.length;b++){jsHub.bind(e[b],c);}jsHub.trigger("plugin-initialization-complete",c);})();