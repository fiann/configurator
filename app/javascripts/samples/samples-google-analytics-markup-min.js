"use strict";(function(d){var c={name:"Google Analytics Markup Plugin",id:"google-analytics-markup",version:"0.1 experimental",vendor:"jsHub.org",type:"data-capture"};jsHub.trigger("plugin-initialization-start",c);var a=function(g){var e,i,h,f;if(g&&g.data&&g.data.context){e=g.data.context;}i=[];h=g.data||{};f={value:h["page-name"],source:h["page-name-source"]};jsHub.trigger("google-analytics-parse-start");d("script",e).each(function(){var l=this.innerHTML,k,j;if(typeof l==="string"){k=l.match(/pageTracker\._trackPageview\((.*)\);/);if(k){if(k[1].match(/^\s*$/)){j=jsHub.safe("document").location.pathname;h["page-name-source"]="location.pathname";}else{j=k[1].replace(/^\s+/,"").replace(/\s+$/,"");j=j.match(/^(['"]|&quot;?)(.+)(\1)$/)[2];h["page-name-source"]=c.id;}i.push(j);h["page-name"]=j;}}});if((i.length>1)||(i.length>0&&f.value)){jsHub.trigger("duplicate-value-warning",{source:c.name,fields:{name:{previous:f,found:i.join(", ")}}});h.warnings=h.warnings||{};h.warnings[c.id]=i.join(", ");if(f.source){h.warnings[f.source]=h.warnings[f.value];}}jsHub.trigger("google-analytics-parse-complete",i);return h;};var b=function b(){jsHub.trigger("google-analytics-initialize-tracking",{_gat:window._gat});if(window._gat){var g=function(i){var k,j={};for(k in i){if(k){j[k]=i[k];}}j._trackPageview=function(l){var m={context:"#do-not-drill-down-on-this-event","page-name":l};jsHub.trigger("page-view",m);i._trackPageview(l);};return j;};if(window.pageTracker){window.pageTracker=g(window.pageTracker);}var h,e=window._gat,f={};for(h in e){if(h){f[h]=e[h];}}f._getTracker=function(j){var i=e._getTracker(j);return g(i);};}};c.eventHandler=function(e){if(e.type==="page-view"){return a(e);}else{if(e.type==="data-capture-start"){b();}}};jsHub.bind("page-view",c);jsHub.bind("data-capture-start",c);})(jQuery);