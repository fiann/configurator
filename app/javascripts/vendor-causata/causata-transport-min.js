"use strict";(function(){var c={id:"causata-transport",name:"Causata Transport Plugin",version:0.1,vendor:"Causata Inc",type:"data-transport"},d=["page-view","product-view","authentication","checkout"],a={server:null,account:null};jsHub.trigger("plugin-initialization-start",c);c.eventHandler=function e(i){if(typeof a.server!=="string"){jsHub.trigger("plugin-error",{message:"Server hostname not specified",source:c.id});return;}var h={timestamp:i.timestamp,eventType:i.type,attributes:[]};var g=function(p,o,n){var m=typeof n,l;if("string"===m||"number"===m){p.push({name:o,value:n});}else{if(jsHub.util.isArray(n)){for(l=0;l<n.length;l++){g(p,o,n[l]);}}}};for(var j in i.data){if(i.data.hasOwnProperty(j)){g(h.attributes,j,i.data[j]);}}var f={sender:c.name+" v"+c.version,event:jsHub.json.stringify(h)};var k=(("https:"===jsHub.safe("document").location.protocol)?"https://":"http://");jsHub.dispatchViaForm("POST",k+a.server,f);};c.configure=function(f,g){a[f]=g;};for(var b=0;b<d.length;b++){jsHub.bind(d[b],c);}jsHub.trigger("plugin-initialization-complete",c);})();