"use strict";(function(){var b={id:"causata-transport",name:"Causata Transport Plugin",version:0.1,vendor:"Causata Inc",type:"data-transport"},c=["page-view","product-view","authentication","checkout","site-search"],a={server:null,account:null};jsHub.trigger("plugin-initialization-start",b);b.eventHandler=function d(e){var f=false;if(""+e.data["custom-event"]==="true"){f="custom";}else{for(var h=0;h<c.length;h++){if(c[h]===e.type){f="standard";break;}}}if(!f){return;}if(typeof a.server!=="string"){jsHub.trigger("plugin-error",{message:"Server hostname not specified",source:b.id});return;}var n={timestamp:e.timestamp,eventType:e.type};if(typeof a.account==="string"){n.organization=a.account;}var m=function(s,r,q){var p=typeof q,o;if("string"===p||"number"===p){s.push({name:r,value:q});}else{if(jsHub.util.isArray(q)){for(o=0;o<q.length;o++){m(s,r,q[o]);}}}};var g=[];for(var j in e.data){if(e.data.hasOwnProperty(j)){m(g,j,e.data[j]);}}if(g.length>0){n.attributes=g;}var k={sender:b.name+" v"+b.version,event:jsHub.json.stringify(n)};var l=(("https:"===jsHub.safe("document").location.protocol)?"https://":"http://");jsHub.dispatchViaForm("POST",l+a.server,k);};b.configure=function(e,f){a[e]=""+f;};jsHub.bind("*",b);jsHub.trigger("plugin-initialization-complete",b);})();