"use strict";(function(b){var a={name:"hPurchase Microformat Parser Plugin",id:"hPurchase-plugin",version:0.1,vendor:"jsHub.org",type:"microformat"};jsHub.trigger("plugin-initialization-start",a);a.eventHandler=function c(h){jsHub.trigger("hpurchase-parse-start",h);var d,g,e,i;d=jsHub.logger;if(h&&h.data&&h.data.context){g=h.data.context;}e=b(".hpurchase",g);e=e.not(e.find(".hpurchase"));i={};var f=["product-id","cart-id","cart-price","discount","shipping-price","taxes","net-price","payment-method","status"];e.each(function(j,m){var l={};var k=b(m);b.each(f,function(q,o){var r,n,s="."+o;var p=k.find(s);p=p.not(p.find(".hpurchase"));r=p.getMicroformatPropertyValue();if(r!==null){l[o]=r;}});jsHub.trigger("hpurchase-data-found",{count:j+1,element:m,hpurchase:l});jsHub.trigger("checkout",l);});jsHub.trigger("hpurchase-parse-complete",i);return;};jsHub.bind("page-view",a);jsHub.trigger("plugin-initialization-complete",a);})(jQuery);